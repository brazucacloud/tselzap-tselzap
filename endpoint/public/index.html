<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TselZap Dashboard - Gerenciamento de Aquecimento de Chips</title>
    <link href="lib/bootstrap.min.css" rel="stylesheet">
    <link href="lib/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
            <h4 class="mt-3">TselZap Dashboard</h4>
            <p>Inicializando sistema...</p>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-sign-in-alt me-2"></i>
                        Login - TselZap Dashboard
                    </h5>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="username" class="form-label">Usuário</label>
                            <input type="text" class="form-control" id="username" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Senha</label>
                            <input type="password" class="form-control" id="password" required>
                        </div>
                        <div class="alert alert-danger d-none" id="loginError"></div>
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-sign-in-alt me-2"></i>
                            Entrar
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="d-none">
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <i class="fas fa-mobile-alt me-2"></i>
                    TselZap Dashboard
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" data-page="overview">
                                <i class="fas fa-tachometer-alt me-1"></i>
                                Visão Geral
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-page="devices">
                                <i class="fas fa-mobile-alt me-1"></i>
                                Dispositivos
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-page="tasks">
                                <i class="fas fa-tasks me-1"></i>
                                Tarefas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-page="analytics">
                                <i class="fas fa-chart-line me-1"></i>
                                Analytics
                            </a>
                        </li>
                    </ul>
                    
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user me-1"></i>
                                <span id="currentUser">Admin</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" id="logoutBtn">
                                    <i class="fas fa-sign-out-alt me-2"></i>
                                    Sair
                                </a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="container-fluid mt-4">
            <!-- Overview Page -->
            <div id="overviewPage" class="page-content">
                <div class="row">
                    <div class="col-12">
                        <h2 class="mb-4">
                            <i class="fas fa-tachometer-alt me-2"></i>
                            Visão Geral do Sistema
                        </h2>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="row mb-4">
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card bg-primary text-white h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6 class="card-title">Dispositivos Online</h6>
                                        <h3 id="onlineDevices">0</h3>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="fas fa-mobile-alt fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card bg-success text-white h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6 class="card-title">Tarefas Concluídas</h6>
                                        <h3 id="completedTasks">0</h3>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="fas fa-check-circle fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card bg-warning text-white h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6 class="card-title">Tarefas em Andamento</h6>
                                        <h3 id="activeTasks">0</h3>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="fas fa-clock fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card bg-info text-white h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6 class="card-title">Dia Atual</h6>
                                        <h3 id="currentDay">1</h3>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="fas fa-calendar-day fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="row mb-4">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="fas fa-chart-line me-2"></i>
                                    Progresso Diário
                                </h5>
                            </div>
                            <div class="card-body">
                                <canvas id="progressChart" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="fas fa-chart-pie me-2"></i>
                                    Status das Tarefas
                                </h5>
                            </div>
                            <div class="card-body">
                                <canvas id="taskStatusChart" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="fas fa-history me-2"></i>
                                    Atividade Recente
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Dispositivo</th>
                                                <th>Ação</th>
                                                <th>Tarefa</th>
                                                <th>Status</th>
                                                <th>Data/Hora</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recentActivityTable">
                                            <!-- Activity rows will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Devices Page -->
            <div id="devicesPage" class="page-content d-none">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>
                                <i class="fas fa-mobile-alt me-2"></i>
                                Gerenciamento de Dispositivos
                            </h2>
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addDeviceModal">
                                <i class="fas fa-plus me-2"></i>
                                Adicionar Dispositivo
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Device Filters -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <select class="form-select" id="statusFilter">
                            <option value="">Todos os Status</option>
                            <option value="online">Online</option>
                            <option value="offline">Offline</option>
                            <option value="busy">Ocupado</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" id="dayFilter">
                            <option value="">Todos os Dias</option>
                            <option value="1">Dia 1</option>
                            <option value="2">Dia 2</option>
                            <option value="3">Dia 3</option>
                            <!-- More days will be populated -->
                        </select>
                    </div>
                    <div class="col-md-6">
                        <div class="input-group">
                            <input type="text" class="form-control" id="deviceSearch" placeholder="Buscar dispositivo...">
                            <button class="btn btn-outline-secondary" type="button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Devices Table -->
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Nome</th>
                                        <th>Telefone</th>
                                        <th>Status</th>
                                        <th>Dia Atual</th>
                                        <th>Tarefas Concluídas</th>
                                        <th>Última Atividade</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="devicesTable">
                                    <!-- Device rows will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tasks Page -->
            <div id="tasksPage" class="page-content d-none">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>
                                <i class="fas fa-tasks me-2"></i>
                                Gerenciamento de Tarefas
                            </h2>
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addTaskModal">
                                <i class="fas fa-plus me-2"></i>
                                Nova Tarefa
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Task Filters -->
                <div class="row mb-4">
                    <div class="col-md-2">
                        <select class="form-select" id="taskDayFilter">
                            <option value="">Todos os Dias</option>
                            <!-- Days will be populated -->
                        </select>
                    </div>
                    <div class="col-md-2">
                        <select class="form-select" id="taskTypeFilter">
                            <option value="">Todos os Tipos</option>
                            <option value="profile_setup">Configuração de Perfil</option>
                            <option value="message_activity">Atividade de Mensagens</option>
                            <option value="group_activity">Atividade de Grupos</option>
                            <option value="media_activity">Atividade de Mídia</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <select class="form-select" id="taskStatusFilter">
                            <option value="">Todos os Status</option>
                            <option value="pending">Pendente</option>
                            <option value="in_progress">Em Andamento</option>
                            <option value="completed">Concluída</option>
                            <option value="failed">Falhou</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <div class="input-group">
                            <input type="text" class="form-control" id="taskSearch" placeholder="Buscar tarefa...">
                            <button class="btn btn-outline-secondary" type="button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Tasks Table -->
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Dia</th>
                                        <th>Tipo</th>
                                        <th>Descrição</th>
                                        <th>Prioridade</th>
                                        <th>Status</th>
                                        <th>Dispositivos</th>
                                        <th>Concluídas</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="tasksTable">
                                    <!-- Task rows will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analyticsPage" class="page-content d-none">
                <div class="row">
                    <div class="col-12">
                        <h2 class="mb-4">
                            <i class="fas fa-chart-line me-2"></i>
                            Analytics e Relatórios
                        </h2>
                    </div>
                </div>

                <!-- Analytics Filters -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <select class="form-select" id="analyticsPeriod">
                            <option value="7d">Últimos 7 dias</option>
                            <option value="30d">Últimos 30 dias</option>
                            <option value="1d">Último dia</option>
                        </select>
                    </div>
                </div>

                <!-- Analytics Charts -->
                <div class="row mb-4">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="fas fa-chart-area me-2"></i>
                                    Tendência de Conclusão
                                </h5>
                            </div>
                            <div class="card-body">
                                <canvas id="completionTrendChart" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="fas fa-chart-bar me-2"></i>
                                    Atividade dos Dispositivos
                                </h5>
                            </div>
                            <div class="card-body">
                                <canvas id="deviceActivityChart" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance Metrics -->
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="fas fa-tachometer-alt me-2"></i>
                                    Métricas de Performance
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Tipo de Tarefa</th>
                                                <th>Total Atribuídas</th>
                                                <th>Concluídas</th>
                                                <th>Taxa de Sucesso</th>
                                                <th>Tempo Médio</th>
                                            </tr>
                                        </thead>
                                        <tbody id="performanceTable">
                                            <!-- Performance rows will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="lib/bootstrap.bundle.min.js"></script>
    <script src="lib/chart.min.js"></script>
    <script src="lib/socket.io.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
